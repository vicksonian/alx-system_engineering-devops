#!/usr/bin/env bash
# This script installs Nginx web server and configures it to meet the requirements

# Install Nginx
apt-get update -y
apt-get install nginx -y

# Start Nginx if it's not already running
if ! pgrep -x "nginx" >/dev/null; then
    /etc/init.d/nginx start
fi

# Configure Nginx to listen on port 80
sed -i 's/listen 80 default_server;/listen 80;/g' /etc/nginx/sites-available/default

# Configure Nginx to return "Hello World!" at its root
echo 'server {
    listen 80;
    root /var/www/html;
    index index.html index.htm;
    location / {
        echo "Hello World!";
    }
}' > /etc/nginx/sites-available/default

# Restart Nginx
/etc/init.d/nginx restart || service nginx restart || exit 1

